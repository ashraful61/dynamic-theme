<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data List - Dependable Solutions</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Inline styles for search toggle (can be moved to styles.css) */
        .search-input-wrapper {
            display: flex;
            align-items: center;
            position: relative;
        }

        .search-input {
            display: none;
            width: 250px;
            padding: 8px 32px 8px 12px;
            border: none;
            border-bottom: 2px solid #2563eb;
            outline: none;
            font-size: 16px;
            background: #fff;
            transition: width 0.3s;
        }

        .search-input.active {
            display: block;
        }

        .search-icon {
            position: absolute;
            right: 8px;
            cursor: pointer;
            color: #2563eb;
            font-size: 22px;
        }

        .add-item-btn {
            background: #2563eb;
            color: #fff;
            border: none;
            border-radius: 8px;
            padding: 10px 24px;
            font-size: 16px;
            cursor: pointer;
            margin-left: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 24px;
            background: #fff;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        }

        .data-table th,
        .data-table td {
            padding: 16px 12px;
            text-align: left;
        }

        .data-table th {
            background: #f8fafc;
            font-weight: 600;
            color: #64748b;
        }

        .data-table tr {
            border-bottom: 1px solid #f1f5f9;
        }

        .data-table tr:nth-child(even) {
            background: #f9fbfd;
        }

        .data-table tr.selected {
            background: #e8f0fe;
        }

        .status {
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            display: inline-block;
        }

        .status.in-progress {
            color: #2563eb;
        }

        .status-dot.in-progress {
            background: #2563eb;
        }

        .status.completed {
            color: #16a34a;
        }

        .status-dot.completed {
            background: #16a34a;
        }

        .status.pending {
            color: #ea580c;
        }

        .status-dot.pending {
            background: #ea580c;
        }

        .status.rejected {
            color: #dc2626;
        }

        .status-dot.rejected {
            background: #dc2626;
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 8px;
        }

        .table-actions {
            color: #64748b;
            cursor: pointer;
            font-size: 18px;
        }

        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 8px;
            margin: 24px 0 12px 0;
            color: #64748b;
            font-size: 16px;
        }

        .breadcrumb-home {
            font-size: 20px;
        }

        .pagination {
            display: flex;
            gap: 8px;
            justify-content: flex-end;
            margin-top: 16px;
        }

        .pagination button {
            background: none;
            border: none;
            color: #2563eb;
            font-size: 16px;
            cursor: pointer;
            padding: 4px 10px;
            border-radius: 4px;
        }

        .pagination button.active {
            background: #2563eb;
            color: #fff;
        }
    </style>
</head>

<body class="dashboard-bg">
    <header class="top-nav">
        <div class="nav-left">
            <img src="logo.png" alt="Dependable Solutions Logo" class="nav-logo">
            <span class="nav-brand">Dependable<br>Solutions.</span>
        </div>
        <nav class="nav-links">
            <a href="welcome.html">Home</a>
            <a href="configuration.html">Configuration</a>
            <a href="datalist.html" class="active">Data List</a>
        </nav>
        <div class="nav-avatar">
            <img src="avatar.png" alt="User Avatar">
        </div>
    </header>
    <main style="padding: 0 32px;">
        <nav class="breadcrumb">
            <span class="breadcrumb-home">&#8962;</span>
            <span class="breadcrumb-sep">&gt;</span>
            <span>Data List</span>
        </nav>
        <div style="display: flex; align-items: center; justify-content: flex-end; margin-bottom: 16px; gap: 16px;">
            <div class="search-input-wrapper">
                <input type="text" class="search-input" placeholder="Search...">
                <span class="search-icon" id="search-toggle">&#128269;</span>
            </div>
            <button class="add-item-btn"><span style="font-size:20px;">&#43;</span> Add Item</button>
        </div>
        <table class="data-table">
            <thead>
                <tr>
                    <th><input type="checkbox"></th>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Address</th>
                    <th>Date</th>
                    <th>Status</th>
                    <th></th>
                </tr>
            </thead>
            <tbody id="data-table-body">
                <!-- Rows will be generated by JavaScript -->
            </tbody>
        </table>
        <div class="pagination">
            <button>&lt;</button>
            <button class="active">1</button>
            <button>2</button>
            <button>3</button>
            <button>4</button>
            <button>5</button>
            <button>&gt;</button>
        </div>
    </main>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        // Table data array
        const tableData = [
            {
                id: '#CM9801',
                avatar: 'avatar1.png',
                name: 'Ava Wright',
                email: 'ava@dependablesolutions.com',
                address: 'Meadow Lane Oakland, New York',
                date: 'Today, 19:40',
                status: 'in-progress',
                statusText: 'In Progress',
                selected: false,
            },
            {
                id: '#CM9802',
                avatar: 'avatar2.png',
                name: 'Koray Okumus',
                email: 'koray@dependablesolutions.com',
                address: 'Bagwell Avenue Ocala',
                date: 'Yesterday',
                status: 'completed',
                statusText: 'Completed',
                selected: false,
            },
            {
                id: '#CM9803',
                avatar: 'avatar3.png',
                name: 'Lana Steiner',
                email: 'lana@dependablesolutions.com',
                address: 'Washburn Baton Rouge',
                date: '19 Aug 24',
                status: 'pending',
                statusText: 'Pending',
                selected: true,
            },
            {
                id: '#CM9804',
                avatar: 'avatar4.png',
                name: 'Orlando Diggs',
                email: 'orlando@dependablesolutions.com',
                address: 'Larry San Francisco',
                date: '15 Aug 24',
                status: 'rejected',
                statusText: 'Rejected',
                selected: false,
            },
            {
                id: '#CM9804',
                avatar: 'avatar5.png',
                name: 'Natali Craig',
                email: 'craig@dependablesolutions.com',
                address: 'Nest Lane Olivetta',
                date: '18 Aug 23',
                status: 'completed',
                statusText: 'Completed',
                selected: false,
            }
        ];

        // Status class mapping
        const statusClassMap = {
            'in-progress': 'in-progress',
            'completed': 'completed',
            'pending': 'pending',
            'rejected': 'rejected'
        };

        // Render table rows
        function renderTableRows() {
            const tbody = document.getElementById('data-table-body');
            tbody.innerHTML = '';
            tableData.forEach((row, idx) => {
                const tr = document.createElement('tr');
                if (row.selected) tr.classList.add('selected');
                tr.innerHTML = `
                    <td><input type="checkbox"></td>
                    <td>${row.id}</td>
                    <td><img src="${row.avatar}" class="user-avatar"> ${row.name}</td>
                    <td>${row.email}</td>
                    <td>${row.address}</td>
                    <td><span style="display:flex;align-items:center;gap:4px;">&#128197; ${row.date}</span></td>
                    <td><span class="status ${statusClassMap[row.status]}"><span class="status-dot ${statusClassMap[row.status]}"></span> ${row.statusText}</span></td>
                    <td class="table-actions" style="position:relative;">
                        <img src="img/DownloadSimple.png" alt=""> &nbsp;
                        <img src="img/DotsThreeOutlineVertical2.png" alt="" class="dots-menu-btn" data-row="${idx}" style="cursor:pointer;">
                        <div class="popup-menu" id="popup-menu-${idx}" style="display:none; position:absolute; right:0; top:40px; min-width:140px; background:#fff; box-shadow:0 4px 24px rgba(0,0,0,0.10); border-radius:10px; z-index:10; padding:8px 0;">
                            <div class="popup-item" style="padding:10px 20px; display:flex; align-items:center; gap:10px; cursor:pointer; font-size:15px;"><span style='font-size:18px;'>&#128065;</span> View</div>
                            <div class="popup-item" style="padding:10px 20px; display:flex; align-items:center; gap:10px; cursor:pointer; font-size:15px;"><span style='font-size:18px;'>&#9998;</span> Edit</div>
                            <div class="popup-item" style="padding:10px 20px; display:flex; align-items:center; gap:10px; color:#dc2626; cursor:pointer; font-size:15px;"><span style='font-size:18px;'>&#128465;</span> Delete</div>
                        </div>
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }

        // Toggle search input
        $(document).ready(function () {
            $('#search-toggle').on('click', function () {
                $('.search-input').toggleClass('active').focus();
            });
            renderTableRows(); // Render table rows on page load

            // Popup menu logic
            $(document).on('click', '.dots-menu-btn', function (e) {
                e.stopPropagation();
                const idx = $(this).data('row');
                const popup = $(`#popup-menu-${idx}`);
                const isVisible = popup.is(':visible');
                // Hide all popups first
                $('.popup-menu').hide();
                // Toggle this one
                if (!isVisible) {
                    popup.show();
                }
            });
            // Hide popup when clicking outside
            $(document).on('click', function () {
                $('.popup-menu').hide();
            });
            // Prevent popup from closing when clicking inside
            $(document).on('click', '.popup-menu', function (e) {
                e.stopPropagation();
            });
        });
    </script>
</body>

</html>